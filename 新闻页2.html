<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学院新闻 - 现代科技大学</title>

    <!-- 引入依赖 -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* 根变量定义 */
        :root {
            --primary-color: #2c3e50;  /* 主标题颜色 */
            --accent-color: #e74c3c;   /* 强调色 */
        }

        /* 标题栏样式 */
        .title-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        /* 扁平化按钮样式 */
        .flat-btn {
            display: inline-flex;
            align-items: center;
            padding: 6px 16px;
            background: transparent;
            border: none;
            color: var(--accent-color) !important;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease;
            position: relative;
        }

        /* 按钮悬停效果 */
        .flat-btn:hover {
            color: #c0392b !important;
            transform: translateY(-1px);
        }

        /* 按钮下划线动画 */
        .flat-btn::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 0;
            height: 2px;
            background: var(--accent-color);
            transition: width 0.3s ease;
        }

        .flat-btn:hover::after {
            width: 100%;
        }

        /* 按钮图标样式 */
        .flat-btn i {
            margin-left: 8px;
            transition: transform 0.2s ease;
        }

        .flat-btn:hover i {
            transform: translateX(3px);
        }

        /* 新闻主容器样式 */
        .news-container {
            min-height: 600px;         /* 最小高度 */
            background: #f8f9fa;       /* 背景颜色 */
            border-radius: 15px;       /* 圆角效果 */
            overflow: hidden;          /* 隐藏溢出内容 */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); /* 阴影效果 */
        }

        /* 轮播区域容器 */
        .carousel-section {
            height: 600px;             /* 固定高度 */
            position: relative;        /* 相对定位 */
        }

        /* 轮播图片样式 */
        .carousel-img {
            height: 400px;             /* 图片高度 */
            object-fit: cover;         /* 填充模式 */
            filter: brightness(0.85);  /* 亮度调节 */
        }

        /* 轮播文字说明区域 */
        .carousel-caption {
            background: rgba(0, 0, 0, 0.75); /* 半透明背景 */
            padding: 1.5rem;           /* 内边距 */
            border-radius: 8px;        /* 圆角 */
            left: 50%;                 /* 水平居中 */
            transform: translateX(-50%);
            bottom: 20px;              /* 底部间距 */
            width: 90%;                /* 宽度比例 */
            text-align: left;          /* 文字左对齐 */
        }

        /* 轮播指示点容器 */
        .carousel-indicators {
            bottom: 18px; /* 调整到文字下方 */
        }

        /* 单个指示点样式 */
        .carousel-indicators [data-bs-target] {
            width: 12px;               /* 宽度 */
            height: 12px;              /* 高度 */
            border: 2px solid #fff;    /* 边框 */
            border-radius: 50%;        /* 圆形 */
            background: transparent;   /* 透明背景 */
            transition: all 0.3s;      /* 过渡效果 */
        }

        /* 激活状态的指示点 */
        .carousel-indicators .active {
            background: #fff;         /* 白色填充 */
            transform: scale(1.2);     /* 放大效果 */
        }

        /* 新闻列表容器 */
        .news-list {
            display: flex;
            flex-direction: column;
            padding: 20px;             /* 内边距 */
            background: white;         /* 白色背景 */
        }

        /* 单个新闻项样式 */
        .news-item {
            padding: 0.8rem;          /* 内边距 */
            border-bottom: 1px solid #eee; /* 底部边框 */
            transition: all 0.3s;     /* 过渡效果 */
            cursor: pointer;          /* 手型光标 */
            flex: 0 0 auto;
        }

        /* 新闻项悬停效果 */
        .news-item:hover {
            background: rgba(231, 76, 60, 0.05); /* 浅红色背景 */
            transform: translateX(5px); /* 右移效果 */
        }

        /* 新闻时间样式 */
        .news-time {
            color: #95a5a6;           /* 浅灰色 */
            font-size: 0.85rem;       /* 较小字号 */
        }

        /* 新闻标题样式 */
        .news-list-title {
            color: var(--primary-color); /* 使用主色 */
            font-weight: 600;         /* 加粗 */
            margin: 5px 0;             /* 外边距 */
            display: -webkit-box;     /* 旧式弹性盒 */
            -webkit-line-clamp: 2;    /* 限制两行 */
            -webkit-box-orient: vertical; /* 垂直方向 */
            overflow: hidden;         /* 隐藏溢出 */
        }

        /* 移动端适配 */
        @media (max-width: 768px) {
            .carousel-section {
                height: 400px;        /* 减少高度 */
            }

            .carousel-img {
                height: 300px;        /* 调整图片高度 */
            }

            .carousel-caption {
                padding: 1rem;       /* 减少内边距 */
                bottom: 10px;         /* 调整底部间距 */
            }
            .flat-btn {
                padding: 5px 12px;
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>

<div class="container my-5">
    <div class="title-bar">
        <h2 class="fw-bold m-0">学院新闻</h2>
        <button class="flat-btn more-btn">
            More
            <i class="bi bi-arrow-right" style="font-size: 1.1rem;"></i>
        </button>
    </div>

    <div class="news-container">
        <div class="row g-0">
            <!-- 左侧轮播区 -->
            <div class="col-md-8 carousel-section">
                <div id="newsCarousel" class="carousel slide h-100" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <!-- 指示点由JS生成 -->
                    </div>

                    <div class="carousel-inner h-100">
                        <!-- 内容由JS生成 -->
                    </div>

                    <!-- 导航按钮 -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#newsCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                </div>
            </div>

            <!-- 右侧新闻列表 -->
            <div class="col-md-4">
                <div class="news-list">
                    <!-- 内容由JS生成 -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 依赖脚本 -->
<script src="js/jquery-3.1.1.js"></script>
<script src="dist/js/bootstrap.bundle.min.js"></script>

<script>
    // ======================
    // 数据初始化
    // ======================
    const staticData = (() => {
        const newsItems = [];

        // 生成20条新闻数据
        for(let i = 1; i <= 20; i++) {
            newsItems.push({
                id: i,
                date: `2024-03-${25 - i}`,
                title: `轮播新闻标题 ${i}`,
                content: `这是第 ${i} 条轮播新闻的详细内容摘要，用于演示轮播图的显示效果...`,
                image: `img/新闻/500_${i}.jpg`
            });
        }

        return newsItems;
    })();

    // ======================
    // 页面初始化
    // ======================
    $(document).ready(() => {
        initCarousel();
        initNewsList();
        bindEvents();
    });

    // ======================
    // 轮播初始化
    // ======================
    function initCarousel() {
        const $carousel = $('#newsCarousel');
        const $indicators = $carousel.find('.carousel-indicators');
        const $inner = $carousel.find('.carousel-inner');
        const carouselElement = document.getElementById('newsCarousel');

        // 清空现有内容
        $indicators.empty();
        $inner.empty();

        // 生成轮播内容
        staticData.slice(0, 3).forEach((item, index) => {
            // 添加指示点
            $indicators.append(`
            <button type="button"
                    data-bs-target="#newsCarousel"
                    data-bs-slide-to="${index}"
                    class="${index === 0 ? 'active' : ''}"></button>
        `);

            // 添加轮播项
            $inner.append(`
            <div class="carousel-item ${index === 0 ? 'active' : ''} h-100">
                <img src="${item.image}" class="d-block w-100 carousel-img" alt="${item.title}" loading="lazy">
                <div class="carousel-caption">
                    <div class="d-flex flex-column">
                        <small class="news-time text-white-50 mb-2">${item.date}</small>
                        <h4 class="news-list-title text-white mb-3">${item.title}</h4>
                        <p class="text-white small">${item.content}</p>
                    </div>
                </div>
            </div>
            `);
        });

        // 初始化轮播
        const carousel = new bootstrap.Carousel(carouselElement, {
            interval: 5000,
            ride: 'carousel'
        });
    }

    // ======================
    // 新闻列表初始化
    // ======================
    function initNewsList() {
        const $list = $('.news-list');
        $list.empty(); // 清空现有内容

        staticData.slice(3, 7).forEach(item => {
            $list.append(`
            <div class="news-item" data-id="${item.id}">
                <div class="news-time">${item.date}</div>
                <h5 class="news-list-title">${item.title}</h5>
                <p class="text-muted small">${item.content}</p>
            </div>
            `);
        });
    }

    // ======================
    // 事件绑定
    // ======================
    function bindEvents() {
        // 列表点击事件
        $('.news-list').on('click', '.news-item', function() {
            const id = $(this).data('id');
            const item = staticData.find(i => i.id === id);
            showDetailModal(item);
        });

        // 轮播项点击事件
        $('#newsCarousel').on('click', '.carousel-item img', function() {
            const index = $(this).closest('.carousel-item').index();
            const item = staticData[index];
            showDetailModal(item);
        });

        // 更多按钮点击事件
        $('.more-btn').on('click', function() {
            window.location.href = 'https://sxkxxy.usts.edu.cn/index/xyxw.htm';
        });
    }

    // ======================
    // 新闻点击跳转
    // ======================
    function showDetailModal(item) {
        alert("你好");
    }
</script>

</body>
</html>